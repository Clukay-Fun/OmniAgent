# ============================================
# Skill System 配置
# 用于意图识别和技能路由
# ============================================

# 路由配置
routing:
  # 规则匹配阈值（高于此值直接使用规则结果）
  rule_threshold: 0.6
  # LLM 确认阈值（介于此值和 rule_threshold 之间需要 LLM 确认）
  llm_confirm_threshold: 0.3
  # 最大链式调用跳数
  max_hops: 2
  # LLM 意图解析超时（秒）
  llm_timeout: 10
  # 兜底技能
  fallback_skill: chitchat

# 技能定义
skills:
  # 闲聊技能（优先匹配）
  chitchat:
    name: ChitchatSkill
    description: 闲聊、问候、帮助请求
    priority: 10  # 高优先级
    keywords:
      - 你好
      - 您好
      - 嗨
      - hi
      - hello
      - 帮助
      - 怎么用
      - 怎么使用
      - 可以做什么
      - 能做什么
      - 有什么功能
      - 谢谢
      - 感谢
      - 再见
      - 拜拜
      - 天气
      - 今天天气
    weights:
      你好: 2.0
      帮助: 2.0
      怎么用: 2.0
      天气: 2.0

  # 查询技能
  query:
    name: QuerySkill
    description: 查询案件、开庭、当事人、律师等信息
    priority: 5
    keywords:
      - 查
      - 查询
      - 查一下
      - 找一下
      - 案件
      - 案号
      - 开庭
      - 庭审
      - 什么庭
      - 有什么庭
      - 当事人
      - 原告
      - 被告
      - 律师
      - 代理人
    # 时间词单独匹配不触发查询，需要配合其他关键词
    time_keywords:
      - 本周
      - 这周
      - 下周
      - 今天
      - 明天
      - 后天
    weights:
      查: 1.0
      案件: 1.5
      开庭: 1.5
      庭审: 1.5
      案号: 1.2
      什么庭: 1.8
      有什么庭: 2.0

  # 总结技能
  summary:
    name: SummarySkill
    description: 总结、汇总查询结果
    priority: 5
    keywords:
      - 总结
      - 汇总
      - 概括
      - 归纳
      - 统计
      - 多少个
      - 几个
    weights:
      总结: 1.5
      汇总: 1.5
      统计: 1.2

  # 提醒技能
  reminder:
    name: ReminderSkill
    description: 创建提醒、待办事项
    priority: 5
    keywords:
      - 提醒
      - 待办
      - 记得
      - 提醒我
      - 备忘
      - 不要忘了
      - 别忘了
      - 我的提醒
      - 有哪些提醒
    weights:
      提醒: 1.5
      待办: 1.5
      提醒我: 2.0

# 链式调用配置
chains:
  # 查询后总结
  query_summary:
    trigger_keywords:
      - 总结一下
      - 帮我总结
      - 汇总一下
    sequence:
      - QuerySkill
      - SummarySkill
    description: 查询数据后自动总结
