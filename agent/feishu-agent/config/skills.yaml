# 技能配置（支持热更新）

intent:
  thresholds:
    direct_execute: 0.5      # 直接执行（降低以支持单关键词命中）
    llm_confirm: 0.3         # 需要 LLM 复核
  llm_timeout: 10            # LLM 超时秒数

query:
  keywords:
    - 查
    - 找
    - 搜索
    - 案件
    - 案子
    - 开庭
    - 庭审
    - 当事人
    - 委托人
  time_keywords:
    - 今天
    - 明天
    - 后天
    - 本周
    - 下周

create:
  keywords:
    - 新增
    - 新建
    - 创建
    - 添加
    - 录入
    - 登记

update:
  keywords:
    - 更新
    - 修改
    - 改
    - 编辑
    - 变更

delete:
  keywords:
    - 删除
    - 删掉
    - 移除
    - 去掉
  confirm_phrases:
    - 确认删除
    - 确认
    - 是的
    - 是
    - 删除
    - ok
    - yes

summary:
  keywords:
    - 总结
    - 汇总
    - 概括
    - 整理
  default_fields:
    - 案号
    - 案由
    - 当事人
    - 开庭日
    - 主办律师

reminder:
  keywords:
    - 提醒
    - 记得
    - 别忘了
  default_time: "18:00"
  scan_interval_seconds: 60
  lock_timeout_seconds: 300
  priority_keywords:
    high: [紧急, 重要, 马上]
    low: [有空, 方便时]

chitchat:
  whitelist:
    - 你好
    - 早上好
    - 下午好
    - 谢谢
    - 帮助
    - 你能做什么
  sensitive_reject:
    - 能赢吗
    - 判多久
    - 法律建议

chain:
  triggers:
    - pattern: "(查|找).*(总结|汇总)"
      skills: [QuerySkill, SummarySkill]
    - pattern: "(总结|汇总).*(今天|明天|案)"
      skills: [QuerySkill, SummarySkill]
  max_hops: 2

skills_market:
  enabled: true
  local_dir: src/skills_market

table_aliases:
  诉讼案件: ["案件", "诉讼", "案子"]
  合同管理: ["合同", "协议"]
  客户信息: ["客户", "委托人"]

table_recognition:
  confidence_threshold: 0.65
  auto_confirm_threshold: 0.85
  max_candidates: 3
  templates:
    single_candidate: |
      我找到可能的表：**{table_name}**
      是否就是它？回复「是」继续，或告诉我正确的表名。
    multi_candidate: |
      我找到几个可能的表：
      {candidate_list}
      请回复表名确认，或输入其他表名。
    no_match: |
      我不太确定您要查的是哪个表。
      当前可用的表有：{all_tables}
      请告诉我具体表名。
