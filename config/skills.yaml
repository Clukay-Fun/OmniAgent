# ============================================
# region Skill System 配置
# ============================================
# 技能路由与意图识别配置
# 热更新周期：60s（由 config_loader 控制）
# ============================================

# ============================================
# region 路由策略
# ============================================
routing:
  # 规则匹配阈值：分数 >= 此值直接命中，不调用 LLM
  rule_threshold: 0.7
  # LLM 确认阈值：分数介于此值与 rule_threshold 之间时调用 LLM 确认
  llm_confirm_threshold: 0.4
  # 链式技能最大跳数（Query -> Summary）
  max_hops: 2
  # LLM 意图分类超时（秒）
  llm_timeout: 10
  # 超时时降级到的技能
  fallback_skill: "chitchat"
# endregion
# ============================================

# ============================================
# region 技能定义
# ============================================
skills:
  # 案件查询技能
  query:
    name: "QuerySkill"
    description: "查询案件、开庭、当事人等信息"
    keywords:
      - "查"
      - "查询"
      - "查一下"
      - "找"
      - "搜"
      - "搜索"
      - "案"
      - "案号"
      - "案件"
      - "案子"
      - "开庭"
      - "庭审"
      - "当事人"
      - "被告"
      - "原告"
      - "委托人"
    # 关键词权重（可选，默认 1.0）
    weights:
      "案号": 1.5
      "开庭": 1.3
      "案件": 1.2
    # 是否支持链式（作为链头）
    chainable: true

  # 汇总技能
  summary:
    name: "SummarySkill"
    description: "总结、汇总、概括查询结果"
    keywords:
      - "总结"
      - "汇总"
      - "概括"
      - "整理"
      - "归纳"
      - "统计"
      - "列表"
      - "一览"
    # 默认输出字段
    default_fields:
      - "案号"
      - "案由"
      - "当事人"
      - "开庭日"
      - "主办律师"
    # 扩展输出字段（用户说"详细总结"时启用）
    extended_fields:
      - "审理法院"
      - "案件状态"
      - "程序阶段"
    # 触发扩展字段的关键词
    extend_triggers:
      - "详细"
      - "完整"
      - "全部"
    # 是否支持链式（作为链尾）
    chain_target: true

  # 提醒技能
  reminder:
    name: "ReminderSkill"
    description: "创建提醒、待办事项"
    keywords:
      - "提醒"
      - "待办"
      - "记得"
      - "别忘了"
      - "到时候"
      - "定时"
      - "闹钟"
      - "备忘"
    # 缺失时间时的默认时间（今天 HH:MM）
    default_time: "18:00"
    # 默认时间提示语
    default_time_hint: "已设置为今天 {time}，如需修改请告诉我具体时间。"

  # 闲聊/兜底技能
  chitchat:
    name: "ChitchatSkill"
    description: "闲聊、问候、无法识别的请求"
    keywords:
      - "你好"
      - "您好"
      - "嗨"
      - "帮助"
      - "怎么用"
      - "能做什么"
      - "功能"
      - "谢谢"
      - "感谢"
      - "再见"
    # 白名单问候词（直接友好响应）
    greetings:
      - "你好"
      - "您好"
      - "嗨"
      - "hi"
      - "hello"
      - "早上好"
      - "下午好"
      - "晚上好"
    # 敏感话题拒答（返回引导语）
    sensitive_topics:
      - "政治"
      - "敏感"
    # 兜底响应模板
    fallback_response: "抱歉，我目前只能帮您查询案件或文档。试试问我"本周有什么庭"吧！"
# endregion
# ============================================

# ============================================
# region 链式技能规则
# ============================================
chains:
  # 查询后总结
  query_summary:
    trigger_keywords:
      - "帮我总结"
      - "总结一下"
      - "汇总"
    sequence:
      - "query"
      - "summary"
    description: "先查询案件，再生成汇总"
# endregion
# ============================================
