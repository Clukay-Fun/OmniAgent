# Skill: query

## 描述
负责从多维表格或相关数据源执行读取查询，并将结果格式化为用户可读文本。
适用于“查什么、有哪些、统计/筛选结果”等读操作。

## 触发条件
- 用户表达“查询/搜索/列出/统计”意图
- 输入中包含表名、字段、时间范围、状态等筛选线索
- 用户需要读取现有记录而不是创建或修改记录

## 参数
- `query`: 用户查询语句
- `user_id`: 用于会话级上下文与权限边界
- `extra`: 可选扩展上下文（如最近一次查询结果、对话记忆）

## 约束
- 仅执行读操作，不写入业务数据
- 结果应可追溯：尽量保留筛选条件和关键字段
- 当查询条件不完整时，先澄清关键缺失项
- 输出优先结构化、可扫描，避免冗长段落

## 示例对话
用户：查一下本周开庭的案件
助手：已为你筛选本周开庭案件，共 6 条，按日期排序如下：...

用户：只看主办律师是张三的
助手：已在上次结果基础上按主办律师=张三过滤，剩余 2 条：...

### 案件查询输出规范 (Case Query Output Format)

当用户查询特定案件、项目，或者你通过底层 API 获取到了包含案件、项目信息的 JSON 数据后，请 **必须** 按照以下 Markdown 模板结构合并渲染并返回给用户。

如果查询结果包含多个案件，请针对每一个案件重复此卡片结构，并在卡片之间加上分隔符 `---`。
如果真实数据中某个字段为空或完全缺失，请非常自然地略过该行或者使用“未录入”，绝对不要向用户显示 `null` 或 `None`。

**模板风格约定（请严格遵循下方的语法和 Emoji 搭配呈现）**：

🔎 **查阅到的案件信息：[案件名称 或 案号]**

- **当前状态**：`[案件状态]` （若状态包含“中止”、“败诉”、“超限”等异常预警字眼，请在状态旁边加上 ⚠️）
- **审理阶段**：[审理程序] | [审理法院]
- **业务主体**：[委托人] vs [对方当事人]
- **承办人员**：👨‍⚖️[主办律师] / 👨‍💼[协办律师]

📝 **最新进展与备注摘要**：
> [如果有“备注”、“进展”字段，请在这里提炼关键信息后，使用引用块 (Blockquote) 形式自然地口语化输出。如果原数据中这两个字段都没有，请直接省略这一整个区块]

---
_数据来源于飞书多维表格聚合接口_
